#############################
#   Name of the project     #
#############################
COMPOSE_PROJECT_NAME=oml

#############################
#   Name of the project     #
#############################
# --- "cloud" instance (access through public IP)
# --- "lan" instance (access through private IP)
# ---- "nat" instance (access through NAT)
# --- "devenv" is for run on docker-desktop (access through localhost)
# --- "docker-compose" is for run on docker-compose (VM or VPS)
ENV=devenv
REPO_PATH=./omnileads-repos

# iPV4 address of the host
PUBLIC_IP=
PRIVATE_IP=

#############################################################
#               Components image version                    #
#           versions of each image to deploy                #
#############################################################

OMLAPP_IMG=freetechsolutions/omlapp:241121.01-2679
OMLACD_IMG=freetechsolutions/asterisk:241128.01
OMLACD_RETRIEVE_CONF_IMG=omnileads/acd_retrieve_conf:240729.01
OMLFASTAGI_IMG=omnileads/fastagi:241017.01
OMLAMI_IMG=omnileads/astami:241017.01
OMLNGINX_IMG=omnileads/nginx:241009.01
OMLKAM_IMG=freetechsolutions/kamailio:241109.01
OMLRTPENGINE_IMG=freetechsolutions/rtpengine:241128.01
OMLWS_IMG=omnileads/websockets:240705.01
OMLINTERACTION_PROC_IMG=omnileads/interaction_processor:240506.01
# OMLSENTIMENT_IMG=omnileads/sentiment_analysis:

OMLPSTNEMULATOR_IMG=omnileads/pstn_emulator:241209.01
OMLVIDEOCALLS_WIDGET_IMG=omnileads/videocalls_widget:230905.01
OMLVUEJS_IMG=freetechsolutions/vue-cli:develop
OMLNGINXQA_IMG=omnileads/nginxqa:241028.01

OMLREDIS_IMG=redislabs/redisgears:1.0.9
OMLPGSQL_IMG=postgres:14.9-bullseye
OMLMINIO_IMG=quay.io/minio/minio:RELEASE.2023-09-27T15-22-50Z
OMLPROMETHEUS_IMG=prom/prometheus:v3.0.1

################################
# Timezone for the environment #
################################
TZ=America/Argentina/Cordoba


#####################################################################################
# s3-minio is the default option and use the stack bucket                           #
# s3 in order to use an external bucket service                                     #
# if you object storage service use selfsigned TLS/SSL certs,                       #
# you mus to put *callrec_device=s3-no-check-cert* in order to don't verify CA.     #
#####################################################################################
CALLREC_DEVICE=s3-minio


###################################################################################################
#                                       DJANGO APP                                                #
###################################################################################################

# --- IP or hostname that each instance will invoke when locating the other    
DJANGO_HOSTNAME=django_app
DAPHNE_HOSTNAME=daphne

# Scale UWSGI
#UWSGI_CUSTOM=True
#UWSGI_PROCESSES=4
#UWSGI_THREADS=1
#UWSGI_LISTEN_QUEUE_SIZE=2048
#UWSGI_WORKER_RELOAD_MERCY=60
#UWSGI_MAX_WORKER_LIFETIME=7200
#UWSGI_MAX_WORKER_LIFETIME_DELTA=300
#UWSGI_RELOAD_ON_RSS=1024
#UWSGI_RELOAD_ON_AS=2048
#UWSGI_EVIL_RELOAD_ON_RSS=3096
#UWSGI_MAX_REQUESTS=2000

# Session Cookie Age (SCA) is the time in seconds that will last the https session when inactivity
# is detected in the session (by default is 1 hour)
SESSION_COOKIE_AGE=3600

# Ephemeral Credentials TTL (ECTTL) is the time in seconds that will last the SIP credentials used
#to authenticate a SIP user in the telephony system (by default 8 hours)
EPHEMERAL_USER_TTL=28800

# Secret Key for creating auth ephemeral credentials
AUTHEPH_SK=SUp3rS3cr3tK3y

# Django logs (DEBUG, INFO, WARNING, ERROR, CRITICAL)
DJANGO_LOG_LEVEL=INFO

UWSGI_PORT=8099
DAPHNE_PORT=8098
##################################
# Name of the agenda disposition #
##################################
CALIFICACION_REAGENDA=AGENDA

# Login failure limit (LFM) is the attempts a user has to enter an incorrect password in login
# Decrease it if paranoic reasons
LOGIN_FAILURE_LIMIT=10


#####################################################################################################
#                                       ASTERISK                                                    #
#####################################################################################################

# --- IP or hostname that each instance will invoke when locating the other    
ASTERISK_HOSTNAME=acd
ACD_CONTAINER_IPV4=10.22.22.99

AMI_USER=omnileadsami
AMI_PASSWORD=5_MeO_DMT

SIP_EXT_PORT=5060

FASTAGI_HOSTNAME=fastagi

SCALE=false

CALLREC_SPLIT_CHANNELS=false
#####################################################################################################
#                                       POSTGRESQL                                                  #
#####################################################################################################
# --- IP or hostname that each instance will invoke when locating the other    
PGHOST=postgresql

PGDATABASE=omnileads
PGPORT=5432
PGUSER=omnileads
PGPASSWORD=admin123

PGHOSTHA=false
PGHOSTRO=

PGSSL=false

PG_EXT_PORT=4444
#########################################################################################################
#                                           WEBSOCKETS                                                  #
#########################################################################################################
# --- IP or hostname that each instance will invoke when locating the other    
WEBSOCKET_HOSTNAME=websockets

WEBSOCKET_PORT=8000
WEBSOCKET_EXT_PORT=8000

# *** Activete verbose ---> DEBUG:fts.oml.services.websockets,websockets.server
WEBSOCKET_LOGGER=DEBUG:fts.oml.services.websockets;INFO:websockets.server

# ******** HIGH AVAILABILITY ******* # # ******** HIGH AVAILABILITY ******* #
# ******** HIGH AVAILABILITY ******* # # ******** HIGH AVAILABILITY ******* #
# *** For redis sentinel cluster ---> redis+sentinel://master/sentinel_01,sentinel_02,sentinel_03
# *** For simple redis ---> redis://redis:6379

# --- IP or hostname that each instance will invoke when locating the other    
WEBSOCKET_REDIS_HOSTNAME=redis://redis:6379


#########################################################################################################
#                                           KAMAILIO                                                    #
#########################################################################################################
# --- IP or hostname that each instance will invoke when locating the other    
KAMAILIO_HOSTNAME=kamailio
KAMAILIO_HTTPS_PORT=14443
KAMAILIO_CERTS_LOCATION=/etc/kamailio/certs

# Variables for Kamailio memory. SHM is the maximum memory ammount.
# PKG is the minimum memory ammount
SHM_SIZE=64
PKG_SIZE=8

s
#########################################################################################################
#                                       NGINX - RTPENGINE - REDIS - RABBITMQ                            #
#########################################################################################################
# --- IP or hostname that each instance will invoke when locating the other    
OMNILEADS_HOSTNAME=nginx
NGINX_EXT_PORT=443

# -----------------------------------------------------------------------------
# --- IP or hostname that each instance will invoke when locating the other    
REDIS_HOSTNAME=redis
REDIS_PORT=6379

# ------------------------------------------------------------------------------
# --- IP or hostname that each instance will invoke when locating the other    
RTPENGINE_HOSTNAME=rtpengine
RTPENGINE_CONTAINER_IPV4=10.22.22.98
# ------------------------------------------------------------------------------
# --- IP or hostname that each instance will invoke when locating the other    
RABBITMQ_HOSTNAME=rabbitmq


#########################################################################################################
#                                Object Storage BUCKET config                                           #
#########################################################################################################

# --- name for invoke bucket actions
S3_BUCKET_NAME=omnileads

# --- MinIO web and console credentials
S3_HTTP_ADMIN_USER=minio
S3_HTTP_ADMIN_PASS=s3minio123

# --- Bucket credentials 
AWS_ACCESS_KEY_ID=omlminio
AWS_SECRET_ACCESS_KEY=s3omnileads123
AWS_DEFAULT_REGION=us-east-1

# *** used by storage_service.py & recordings & media_root views
# your OMniLeads (nginx) ip/hostname
S3_ENDPOINT=https://localhost
# *** used by omni-callrec-move.sh Asterisk AGI
# https://docs.min.io/docs/how-to-use-aws-sdk-for-python-with-minio-server.html
S3_ENDPOINT_MINIO=http://minio:9000


#########################################################################################################
#                                          Monitoring                                                   #
#########################################################################################################

HOMER_ENABLE=false

# --- IP or hostname that each instance will invoke when locating the other    
HOMER_HOSTNAME=heplify-server

HOMER_PORT=9060

#########################################################################################################
#                                    DIALER                                                             #
#########################################################################################################

OML_DIALER_ENGINE=omnidialer
OMNIDIALER_HOST=omnidialer-api:1440
DIALER_SIP_ADDR=10.22.22.199:5060

#########################################################################################################
#                                          VIDEO CALLS                                                  #
#########################################################################################################

VIDEOCALLS_USERNAME=click2video
VIDEOCALLS_PASSWORD=098098ZZZ

#########################################################################################################
#                                        AI Engine                                                      #
#########################################################################################################
# openai or gcp
AI_ENGINE=gcp

#########################################################################################################
#                                        Google integrations                                            #
#########################################################################################################
GOOGLE_MAPS_API_KEY=NULL
GOOGLE_MAPS_CENTER='{ "lat": -31.416668, "lng": -64.183334 }'
GOOGLE_API_KEY=jkjghjkgjk65467GHFGHF5646ghghfghFHGFghf
GOOGLE_CLOUD_PROJECTID=your_project_id

#########################################################################################################
#                                        OpenAI integrations                                            #
#########################################################################################################
OPENAI_API_KEY=fghsfdghshj5e4hjg2hj432ghj423ghj


#########################################################################################################
#                                          Monitoring                                                   #
#########################################################################################################

HOMER_ENABLE=false

# --- IP or hostname that each instance will invoke when locating the other    
HOMERHOST=heplify-server

HOMERPORT=9060


#########################################################################################################
#       Subnet for the docker bridge network, change it if this subnet conflicts with yours             #
#########################################################################################################
NETWORK_NAME=omnileads
SUBNET=10.22.22.0/24
GATEWAY=10.22.22.254

#########################################################################################################
#                                       Django default settings                                         #
#########################################################################################################
OMLAPP_VERSION=241121
DJANGO_SETTINGS_MODULE=ominicontacto.settings.production
PYTHONPATH=/opt/omnileads/ominicontacto
INSTALL_PREFIX=/opt/omnileads/
OML_COMMIT=XCOMIT
OML_BRANCH=docker-compose
OML_BUILD_DATE="241121"
MONITORFORMAT=mp3

#########################################################################################################
#                                       QA & Testing                                                    #
#########################################################################################################
# --- PSTN EMULATOR

# ---default: 100% of the calls are answered.
# ---dial2softphone: 100% of the calls are sent to the testing softphone.
# ---ans_busy: 50% of the calls are answered, while the other 50% return BUSY.
# ---ans_busy_congestion_noans: 25% of the calls are answered, while another 25% return BUSY, 25% return CONGESTION, and 25% return NO ANSWER.
# ---advanced: in this mode, calls are processed according to the last digit:
# ---       0: BUSY
# ---       2: ANSWER a call lasting 15 seconds.
# ---       3: Waits 35 seconds, then ANSWER a call lasting 100 seconds.
# ---       5: NO ANSWER
# ---       7: ANSWER a call lasting 27 seconds.
# ---       9: CONGESTION

PSTN_EMULATOR_MODE=default